<mat-card class="card">
    <mat-card-header>
        <mat-card-title>{{postId ? 'Edit' : 'Create'}} Post</mat-card-title>
    </mat-card-header>
    <mat-divider></mat-divider>
    <mat-card-content class="card-content">
        <form [formGroup]="form">
            <mat-form-field class="full-width">
                <input matInput placeholder="Title" formControlName="title">
                <mat-error *ngIf="form.get('title').invalid && form.get('title').touched">Invalid Title</mat-error>
            </mat-form-field>

            <mat-form-field class="full-width">
                <textarea matInput placeholder="Content" rows=7 formControlName="content"></textarea>
                <mat-error *ngIf="form.get('content').invalid && form.get('content').touched">Invalid Content</mat-error>
            </mat-form-field>

            <div>
                <button mat-raised-button type="button" (click)="fileInput.click()">Upload Image</button>
                <input type="file" #fileInput style="display: none;" (change)="onImageSelect($event)">
                <div *ngIf="imagePreview" >
                    <img class="image-preview" [src]="imagePreview" alt="">
                </div>
            </div>

        </form>
    </mat-card-content>

    <mat-card-actions>
        <button mat-button type="button" (click)="submit()" color="primary" >Submit</button>
        <button mat-button type="button" routerLink="/" color="warn" >Cancel</button>
    </mat-card-actions>
</mat-card>

